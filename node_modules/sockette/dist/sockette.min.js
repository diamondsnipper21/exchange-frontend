!function(n,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):n.sockette=o()}(this,function(){function n(){}return function(o,e){var t,c,i,f={},u=this,s=(e=e||{}).timeout||1e3,r=e.maxAttempts||Infinity;return f.onmessage=e.onmessage||n,f.onclose=function(o){1e3!==o.code&&1005!==o.code&&u.reconnect(o),(e.onclose||n)(o)},f.onerror=function(o){o&&"ECONNREFUSED"===o.code?u.reconnect(o):(e.onerror||n)(o)},f.onopen=function(o){i=0,(e.onopen||n)(o)},u.open=function(){for(t in c=new WebSocket(o,e.protocols),f)c[t]=f[t]},u.reconnect=function(o){i++<r?setTimeout(function(t){(e.onreconnect||n)(o),u.open()},s):(e.onmaximum||n)(o)},u.json=function(n){c.send(JSON.stringify(n))},u.send=function(n){c.send(n)},u.close=function(n,o){c.close(n,o)},u.open(),u}});
//# sourceMappingURL=sockette.min.js.map
