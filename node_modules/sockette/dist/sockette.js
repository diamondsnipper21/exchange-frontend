function n(){}module.exports=function(o,e){var t,c,i,s={},r=this,u=(e=e||{}).timeout||1e3,f=e.maxAttempts||Infinity;return s.onmessage=e.onmessage||n,s.onclose=function(o){1e3!==o.code&&1005!==o.code&&r.reconnect(o),(e.onclose||n)(o)},s.onerror=function(o){o&&"ECONNREFUSED"===o.code?r.reconnect(o):(e.onerror||n)(o)},s.onopen=function(o){i=0,(e.onopen||n)(o)},r.open=function(){for(t in c=new WebSocket(o,e.protocols),s)c[t]=s[t]},r.reconnect=function(o){i++<f?setTimeout(function(t){(e.onreconnect||n)(o),r.open()},u):(e.onmaximum||n)(o)},r.json=function(n){c.send(JSON.stringify(n))},r.send=function(n){c.send(n)},r.close=function(n,o){c.close(n,o)},r.open(),r};
//# sourceMappingURL=sockette.js.map
